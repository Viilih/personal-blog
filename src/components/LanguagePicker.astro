---
import { languages } from "../i18n/ui";
import LanguageSelector from "./LanguageSelector";

// Define the type for the languages object
type LanguageKey = keyof typeof languages;

const currentPath = Astro.url.pathname;
const currentLang: LanguageKey =
  (Object.keys(languages) as LanguageKey[]).find(
    (lang) => currentPath.startsWith(`/${lang}/`) || currentPath === `/${lang}`,
  ) || "en";
---

<LanguageSelector client:load languages={languages} currentLang={currentLang} />
