---
import LanguagePicker from "../components/LanguagePicker.astro";
import { getLangFromUrl, useTranslations } from "../i18n/utils";
import { ModeToggle } from "./ModeToggle";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<div class="flex flex-col gap-4">
  <div class="flex items-center gap-2 mb-2">
    <LanguagePicker />
  </div>

  <ul class="list-none p-0 m-0 max-h-[calc(100vh-5rem)] overflow-y-auto">
    <li class="flex justify-end mb-4">
      <a
        href={`/${lang}`}
        class="text-secondary-foreground transition-colors hover:text-blue-600"
      >
        {t("siderbar.home")}
      </a>
    </li>
    <li class="flex justify-end mb-4">
      <a
        href={`/${lang}/blog`}
        class="text-secondary-foreground transition-colors hover:text-blue-600"
      >
        {t("sidebar.articles")}
      </a>
    </li>
    <ModeToggle client:load />
  </ul>
</div>
